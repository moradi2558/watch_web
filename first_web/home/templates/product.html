{% extends 'main.html' %} {% block title %}product{% endblock %}{% load static%}
{% block body%}
<link rel="stylesheet" href="{% static 'product.css' %}" />
<body style="background-color: white">
  <form method="post" action="{% url 'home:product_search' %}">
    {% csrf_token %} {{form}}
    <button type="submit">search</button>
  </form>
  {% for data in category %}
  <a href="{{data.get_absolute_url}}">{{data.name}}</a>
  <div class="btn-group">
    <button
      type="button"
      class="btn btn-danger dropdown-toggle"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    ></button>

    <div class="dropdown-menu">
      {% for info in data.sub.all %}<a href="{{info.get_absolute_url}}"
        >{{info.name}}</a
      >
      {%endfor%}
    </div>
  </div>
  {% endfor %}
  <div class="row mt-4">
    <div class="col-3">
      <div class="toolbox">
        <form action="">
          <div class="toolbox">
            <section class="range-slider container">
              <span class="output outputOne"></span>
              <span class="output outputTwo"></span>
              <span class="full-range"></span>
              <span class="incl-range"></span>
              <input
                name="price_1"
                value="{{min_price}}"
                min="{{min_price}}"
                max="{{max_price}}"
                step="1"
                type="range"
              />
              <input
                name="price_2"
                value="{{max_price}}"
                min="{{min_price}}"
                max="{{max_price}}"
                step="1"
                type="range"
              />
            </section>
          </form>
            <div style="">
              <label for="">brand: {{ filter.form.brand }} </label>
              <label for="">color: {{ filter.form.color }} </label>
              <label for="">size: {{ filter.form.size}} </label>
            </div>
          </div>
          <!-- End .toolbox-right -->
        
      </div>
    </div>
  </div> 
  <div class="col-9">
    <div class="row">
      {% for product in products %}
      <div class="col-8">
        <a href="{{product.get_absolute_url}}">
          <h1 style="font-size: 1.5rem">{{product.name}}</h1>
          <img
            style="width: 8rem; height: 8rem"
            src="{{product.image.url}}"
            style="width =50px;height = 50px; "
          />
        </a>
        <br />
        {% if product.discount %}
        <h4 style="text-decoration: line-through">{{product.unit_price}}</h4>
        <h3>{{product.total_price}}</h3>
        {% else %}
        <h3>{{product.total_price}}</h3>
        {% endif %} {% endfor %}
      </div>
    </div>
  </div>

  <nav aria-label="Page navigation example">
    <ul class="pagination">
      {% if products.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{products.previous_page_number}}"
          >Previous</a
        >
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{products.previous_page_number}}"
          >{{products.previous_page_number}}</a
        >
      </li>
      {% else %}
      <li class="page-item disabled">
        <a class="page-link" href="">Previous</a>
      </li>
      {% endif %}
      <li class="page-item {% if page_num == page_num %} active {% endif %}">
        <a class="page-link" href="?page={{products.number}}"
          >{{products.number}}</a
        >
      </li>
      {% if products.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{products.next_page_number}}"
          >{{products.next_page_number}}</a
        >
      </li>
      <li class="page-item">
        <a class="page-link" href="?page={{products.next_page_number}}">next</a>
      </li>
      {% else %}
      <li class="page-item disabled"><a class="page-link" href="">next</a></li>
      {% endif %}
    </ul>
  </nav>
  <script src="{% static 'product.js' %}"></script>
</body>
{% endblock %}
